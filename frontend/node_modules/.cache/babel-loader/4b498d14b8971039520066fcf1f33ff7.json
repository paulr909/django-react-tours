{"ast":null,"code":"import _objectSpread from \"/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/src/App.js\";\nimport React from \"react\";\nimport { BrowserRouter, Route, NavLink } from \"react-router-dom\";\nimport { AppContext } from \"./AppContext\";\nimport Checkout from \"./pages/Checkout\";\nimport Details from \"./pages/Details\";\nimport List from \"./pages/List\";\nimport ServiceApi from \"./services/ServiceApi\";\nimport AppSidebar from \"./AppSidebar\";\nimport CartLink from \"./components/CartLink\";\nimport Help from \"./pages/Help\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wishList: [],\n      booking: {\n        name: \"\",\n        email_address: \"\",\n        street_address: \"\",\n        city: \"\"\n      },\n      item: null,\n      handleToggleWishList: this.handleToggleWishList.bind(this),\n      handleUpdate: this.handleUpdate.bind(this),\n      handleOrderItem: this.handleOrderItem.bind(this),\n      handleClearOrderItem: this.handleClearOrderItem.bind(this),\n      handlePlaceOrder: this.handlePlaceOrder.bind(this)\n    };\n    ServiceApi.retrieveWishList().then(data => {\n      this.setState({\n        wishList: data\n      });\n    });\n  }\n\n  handleToggleWishList(itemId) {\n    let toggle;\n\n    if (this.state.wishList.includes(itemId)) {\n      toggle = ServiceApi.wishListDelete(itemId);\n    } else {\n      toggle = ServiceApi.wishListAdd(itemId);\n    }\n\n    toggle.then(() => {\n      ServiceApi.retrieveWishList().then(data => {\n        this.setState({\n          wishList: data\n        });\n      });\n    });\n  }\n\n  handleUpdate(field, value) {\n    const booking = this.state.booking;\n    booking[field] = value;\n    this.setState({\n      booking\n    });\n  }\n\n  handleOrderItem(item) {\n    return new Promise(resolve => {\n      ServiceApi.wishListCartStatus(item.id, true).then(() => {\n        this.setState({\n          item\n        });\n        resolve(item);\n      });\n    });\n  }\n\n  handleClearOrderItem(itemId) {\n    return new Promise(resolve => {\n      ServiceApi.wishListCartStatus(itemId, false).then(() => {\n        this.setState({\n          item: null\n        });\n        resolve();\n      });\n    });\n  }\n\n  handlePlaceOrder() {\n    const _this$state = this.state,\n          booking = _this$state.booking,\n          item = _this$state.item;\n\n    const bookingData = _objectSpread({}, booking);\n\n    bookingData.package = item.id;\n    return new Promise((resolve, reject) => {\n      ServiceApi.createBooking(bookingData).then(() => {\n        this.setState({\n          item: null\n        });\n        resolve();\n      }).catch(validationErrors => {\n        reject(validationErrors);\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(BrowserRouter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      className: \"App-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App-nav__main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(NavLink, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Explore our tours\"), React.createElement(NavLink, {\n      to: \"/help\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Help\"), React.createElement(CartLink, {\n      booking: this.state.booking,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }))), React.createElement(AppSidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      className: \"App-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(AppContext.Provider, {\n      value: this.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/\",\n      exact: true,\n      component: List,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/details/:id\",\n      component: Details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/checkout\",\n      component: Checkout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/help\",\n      component: Help,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/src/App.js"],"names":["React","BrowserRouter","Route","NavLink","AppContext","Checkout","Details","List","ServiceApi","AppSidebar","CartLink","Help","App","Component","constructor","props","state","wishList","booking","name","email_address","street_address","city","item","handleToggleWishList","bind","handleUpdate","handleOrderItem","handleClearOrderItem","handlePlaceOrder","retrieveWishList","then","data","setState","itemId","toggle","includes","wishListDelete","wishListAdd","field","value","Promise","resolve","wishListCartStatus","id","bookingData","package","reject","createBooking","catch","validationErrors","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter, Route, NavLink } from \"react-router-dom\";\nimport { AppContext } from \"./AppContext\";\nimport Checkout from \"./pages/Checkout\";\nimport Details from \"./pages/Details\";\nimport List from \"./pages/List\";\nimport ServiceApi from \"./services/ServiceApi\";\nimport AppSidebar from \"./AppSidebar\";\nimport CartLink from \"./components/CartLink\";\nimport Help from \"./pages/Help\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wishList: [],\n      booking: {\n        name: \"\",\n        email_address: \"\",\n        street_address: \"\",\n        city: \"\"\n      },\n      item: null,\n      handleToggleWishList: this.handleToggleWishList.bind(this),\n      handleUpdate: this.handleUpdate.bind(this),\n      handleOrderItem: this.handleOrderItem.bind(this),\n      handleClearOrderItem: this.handleClearOrderItem.bind(this),\n      handlePlaceOrder: this.handlePlaceOrder.bind(this)\n    };\n    ServiceApi.retrieveWishList().then(data => {\n      this.setState({ wishList: data });\n    });\n  }\n\n  handleToggleWishList(itemId) {\n    let toggle;\n    if (this.state.wishList.includes(itemId)) {\n      toggle = ServiceApi.wishListDelete(itemId);\n    } else {\n      toggle = ServiceApi.wishListAdd(itemId);\n    }\n    toggle.then(() => {\n      ServiceApi.retrieveWishList().then(data => {\n        this.setState({ wishList: data });\n      });\n    });\n  }\n\n  handleUpdate(field, value) {\n    const { booking } = this.state;\n    booking[field] = value;\n    this.setState({ booking });\n  }\n\n  handleOrderItem(item) {\n    return new Promise(resolve => {\n      ServiceApi.wishListCartStatus(item.id, true).then(() => {\n        this.setState({ item });\n        resolve(item);\n      });\n    });\n  }\n\n  handleClearOrderItem(itemId) {\n    return new Promise(resolve => {\n      ServiceApi.wishListCartStatus(itemId, false).then(() => {\n        this.setState({ item: null });\n        resolve();\n      });\n    });\n  }\n\n  handlePlaceOrder() {\n    const { booking, item } = this.state;\n    const bookingData = { ...booking };\n    bookingData.package = item.id;\n\n    return new Promise((resolve, reject) => {\n      ServiceApi.createBooking(bookingData)\n        .then(() => {\n          this.setState({ item: null });\n          resolve();\n        })\n        .catch(validationErrors => {\n          reject(validationErrors);\n        });\n    });\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <div className=\"App\">\n          <nav className=\"App-nav\">\n            <div className=\"App-nav__main\">\n              <NavLink to=\"/\">Explore our tours</NavLink>\n              <NavLink to=\"/help\">Help</NavLink>\n              <CartLink booking={this.state.booking} />\n            </div>\n          </nav>\n          <AppSidebar />\n          <section className=\"App-content\">\n            <AppContext.Provider value={this.state}>\n              <Route path=\"/\" exact component={List} />\n              <Route path=\"/details/:id\" component={Details} />\n              <Route path=\"/checkout\" component={Checkout} />\n              <Route path=\"/help\" component={Help} />\n            </AppContext.Provider>\n          </section>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}