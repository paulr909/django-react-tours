{"ast":null,"code":"import _objectWithoutProperties from \"/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/src/components/form/FieldValidation.js\";\nimport React from \"react\";\nimport { useState } from \"react\";\nexport function useValidation() {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        setError = _useState2[1];\n\n  const validate = event => {\n    if (event.target.value.length === 0) {\n      setError(\"Field cannot be empty\");\n    } else {\n      setError(null);\n    }\n  };\n\n  const ErrorDisplay = () => {\n    if (error) {\n      return React.createElement(\"div\", {\n        className: \"Error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, error);\n    }\n\n    return null;\n  };\n\n  return [ErrorDisplay, validate];\n}\nexport function withFieldValidation(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: null\n      };\n    }\n\n    validate(name, value) {\n      if (value.length === 0) {\n        this.setState({\n          error: \"Field cannot be empty\"\n        });\n      } else {\n        this.setState({\n          error: null\n        });\n      }\n\n      this.props.onUpdate(name, value);\n    }\n\n    render() {\n      const error = this.state.error;\n\n      const _this$props = this.props,\n            onUpdate = _this$props.onUpdate,\n            passThroughProps = _objectWithoutProperties(_this$props, [\"onUpdate\"]);\n\n      return React.createElement(\"div\", {\n        className: \"Validated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(WrappedComponent, Object.assign({\n        onUpdate: this.validate.bind(this)\n      }, passThroughProps, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), error && React.createElement(\"div\", {\n        className: \"Error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, error));\n    }\n\n  };\n}","map":{"version":3,"sources":["/home/paul/PycharmProjects/django-projects/django-react-tours/frontend/src/components/form/FieldValidation.js"],"names":["React","useState","useValidation","error","setError","validate","event","target","value","length","ErrorDisplay","withFieldValidation","WrappedComponent","Component","constructor","props","state","name","setState","onUpdate","render","passThroughProps","bind"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,SAASC,aAAT,GAAyB;AAAA,oBACJD,QAAQ,CAAC,IAAD,CADJ;AAAA;AAAA,QACvBE,KADuB;AAAA,QAChBC,QADgB;;AAE9B,QAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxB,QAAIA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmBC,MAAnB,KAA8B,CAAlC,EAAqC;AACnCL,MAAAA,QAAQ,CAAC,uBAAD,CAAR;AACD,KAFD,MAEO;AACLA,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAND;;AAOA,QAAMM,YAAY,GAAG,MAAM;AACzB,QAAIP,KAAJ,EAAW;AACT,aAAO;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBA,KAAxB,CAAP;AACD;;AACD,WAAO,IAAP;AACD,GALD;;AAMA,SAAO,CAACO,YAAD,EAAeL,QAAf,CAAP;AACD;AAED,OAAO,SAASM,mBAAT,CAA6BC,gBAA7B,EAA+C;AACpD,SAAO,cAAcZ,KAAK,CAACa,SAApB,CAA8B;AACnCC,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;AACA,WAAKC,KAAL,GAAa;AAAEb,QAAAA,KAAK,EAAE;AAAT,OAAb;AACD;;AAEDE,IAAAA,QAAQ,CAACY,IAAD,EAAOT,KAAP,EAAc;AACpB,UAAIA,KAAK,CAACC,MAAN,KAAiB,CAArB,EAAwB;AACtB,aAAKS,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAE;AAAT,SAAd;AACD,OAFD,MAEO;AACL,aAAKe,QAAL,CAAc;AAAEf,UAAAA,KAAK,EAAE;AAAT,SAAd;AACD;;AACD,WAAKY,KAAL,CAAWI,QAAX,CAAoBF,IAApB,EAA0BT,KAA1B;AACD;;AAEDY,IAAAA,MAAM,GAAG;AAAA,YACCjB,KADD,GACW,KAAKa,KADhB,CACCb,KADD;;AAAA,0BAEmC,KAAKY,KAFxC;AAAA,YAECI,QAFD,eAECA,QAFD;AAAA,YAEcE,gBAFd;;AAGP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AACE,QAAA,QAAQ,EAAE,KAAKhB,QAAL,CAAciB,IAAd,CAAmB,IAAnB;AADZ,SAEMD,gBAFN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF,EAKGlB,KAAK,IAAI;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBA,KAAxB,CALZ,CADF;AASD;;AA3BkC,GAArC;AA6BD","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n\nexport function useValidation() {\n  const [error, setError] = useState(null);\n  const validate = event => {\n    if (event.target.value.length === 0) {\n      setError(\"Field cannot be empty\");\n    } else {\n      setError(null);\n    }\n  };\n  const ErrorDisplay = () => {\n    if (error) {\n      return <div className=\"Error\">{error}</div>;\n    }\n    return null;\n  };\n  return [ErrorDisplay, validate];\n}\n\nexport function withFieldValidation(WrappedComponent) {\n  return class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = { error: null };\n    }\n\n    validate(name, value) {\n      if (value.length === 0) {\n        this.setState({ error: \"Field cannot be empty\" });\n      } else {\n        this.setState({ error: null });\n      }\n      this.props.onUpdate(name, value);\n    }\n\n    render() {\n      const { error } = this.state;\n      const { onUpdate, ...passThroughProps } = this.props;\n      return (\n        <div className=\"Validated\">\n          <WrappedComponent\n            onUpdate={this.validate.bind(this)}\n            {...passThroughProps}\n          />\n          {error && <div className=\"Error\">{error}</div>}\n        </div>\n      );\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}